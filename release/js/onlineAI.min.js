(function(){var k,m=this;
function aa(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==
b&&"undefined"==typeof a.call)return"object";return b}function n(a){return"string"==typeof a}var p="closure_uid_"+(1E9*Math.random()>>>0),ba=0;function ca(a){var b=aa(a);if("object"==b||"array"==b){if(a.Hb)return a.Hb();var b="array"==b?[]:{},c;for(c in a)b[c]=ca(a[c]);return b}return a}function da(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}};function ea(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})}function fa(a){var b=n(void 0)?"undefined".replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"):"\\s";return a.replace(RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,e){return b+e.toUpperCase()})};var q=Array.prototype,ga=q.indexOf?function(a,b,c){return q.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(n(a))return n(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},ha=q.filter?function(a,b,c){return q.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,g=n(a)?a.split(""):a,h=0;h<d;h++)if(h in g){var l=g[h];b.call(c,l,h,a)&&(e[f++]=l)}return e};function ia(a,b){var c=ga(a,b);0<=c&&q.splice.call(a,c,1)}
function ja(a,b,c){return 2>=arguments.length?q.slice.call(a,b):q.slice.call(a,b,c)};var t,ka,la,ma;function na(){return m.navigator?m.navigator.userAgent:null}ma=la=ka=t=!1;var oa;if(oa=na()){var pa=m.navigator;t=0==oa.lastIndexOf("Opera",0);ka=!t&&(-1!=oa.indexOf("MSIE")||-1!=oa.indexOf("Trident"));la=!t&&-1!=oa.indexOf("WebKit");ma=!t&&!la&&!ka&&"Gecko"==pa.product}var qa=t,u=ka,v=ma,A=la,sa=m.navigator,ta=-1!=(sa&&sa.platform||"").indexOf("Mac");function ua(){var a=m.document;return a?a.documentMode:void 0}var va;
a:{var wa="",xa;if(qa&&m.opera)var ya=m.opera.version,wa="function"==typeof ya?ya():ya;else if(v?xa=/rv\:([^\);]+)(\)|;)/:u?xa=/\b(?:MSIE|rv)\s+([^\);]+)(\)|;)/:A&&(xa=/WebKit\/(\S+)/),xa)var za=xa.exec(na()),wa=za?za[1]:"";if(u){var Aa=ua();if(Aa>parseFloat(wa)){va=String(Aa);break a}}va=wa}var Ba={};
function C(a){var b;if(!(b=Ba[a])){b=0;for(var c=String(va).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",h=d[f]||"",l=RegExp("(\\d*)(\\D*)","g"),s=RegExp("(\\d*)(\\D*)","g");do{var w=l.exec(g)||["","",""],z=s.exec(h)||["","",""];if(0==w[0].length&&0==z[0].length)break;b=((0==w[1].length?0:parseInt(w[1],10))<(0==z[1].length?0:parseInt(z[1],10))?-1:(0==w[1].length?0:parseInt(w[1],
10))>(0==z[1].length?0:parseInt(z[1],10))?1:0)||((0==w[2].length)<(0==z[2].length)?-1:(0==w[2].length)>(0==z[2].length)?1:0)||(w[2]<z[2]?-1:w[2]>z[2]?1:0)}while(0==b)}b=Ba[a]=0<=b}return b}var Ca=m.document,Da=Ca&&u?ua()||("CSS1Compat"==Ca.compatMode?parseInt(va,10):5):void 0;!v&&!u||u&&u&&9<=Da||v&&C("1.9.1");var Ea=u&&!C("9");function Fa(a){a=a.className;return n(a)&&a.match(/\S+/g)||[]}function D(a,b){for(var c=Fa(a),d=ja(arguments,1),e=c,f=0;f<d.length;f++)0<=ga(e,d[f])||e.push(d[f]);a.className=c.join(" ")}function E(a,b){var c=Fa(a),d=ja(arguments,1),c=Ga(c,d);a.className=c.join(" ")}function Ga(a,b){return ha(a,function(a){return!(0<=ga(b,a))})}function F(a,b){var c=Fa(a);return 0<=ga(c,b)};function G(a,b){var c=b||document;return c.querySelectorAll&&c.querySelector?c.querySelectorAll("."+a):c.getElementsByClassName?c.getElementsByClassName(a):Ha(a,b)}function H(a,b){var c=b||document,d=null;return(d=c.querySelectorAll&&c.querySelector?c.querySelector("."+a):G(a,b)[0])||null}
function Ha(a,b){var c,d,e,f;c=document;c=b||c;if(c.querySelectorAll&&c.querySelector&&a)return c.querySelectorAll(""+(a?"."+a:""));if(a&&c.getElementsByClassName){var g=c.getElementsByClassName(a);return g}g=c.getElementsByTagName("*");if(a){f={};for(d=e=0;c=g[d];d++){var h=c.className;"function"==typeof h.split&&0<=ga(h.split(/\s+/),a)&&(f[e++]=c)}f.length=e;return f}return g}function J(a){return document.createElement(a)}
function L(a){var b=document,c=b.createElement("div");u?(c.innerHTML="\x3cbr\x3e"+a,c.removeChild(c.firstChild)):c.innerHTML=a;if(1==c.childNodes.length)return c.removeChild(c.firstChild);for(a=b.createDocumentFragment();c.firstChild;)a.appendChild(c.firstChild);return a}function Ja(a,b){a.appendChild(b)}function N(a){return a&&a.parentNode?a.parentNode.removeChild(a):null}
function O(a,b){if("textContent"in a)a.textContent=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else{for(var c;c=a.firstChild;)a.removeChild(c);a.appendChild((9==a.nodeType?a:a.ownerDocument||a.document).createTextNode(String(b)))}}var Ka={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},La={IMG:" ",BR:"\n"};
function R(a){if(Ea&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];Ma(a,b,!0);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");Ea||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""));return a}
function Ma(a,b,c){if(!(a.nodeName in Ka))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in La)b.push(La[a.nodeName]);else for(a=a.firstChild;a;)Ma(a,b,c),a=a.nextSibling};var Na=!u||u&&9<=Da,Oa=u&&!C("9");!A||C("528");v&&C("1.9b")||u&&C("8")||qa&&C("9.5")||A&&C("528");v&&!C("8")||u&&C("9");function Pa(a,b){this.type=a;this.currentTarget=this.target=b}k=Pa.prototype;k.Ta=!1;k.defaultPrevented=!1;k.Xb=!0;k.stopPropagation=function(){this.Ta=!0};k.preventDefault=function(){this.defaultPrevented=!0;this.Xb=!1};function Qa(a){Qa[" "](a);return a}Qa[" "]=function(){};function S(a,b){a&&this.ma(a,b)}(function(){function a(){}a.prototype=Pa.prototype;S.tb=Pa.prototype;S.prototype=new a})();k=S.prototype;k.target=null;k.relatedTarget=null;k.offsetX=0;k.offsetY=0;k.clientX=0;k.clientY=0;k.screenX=0;k.screenY=0;k.button=0;k.keyCode=0;k.charCode=0;k.ctrlKey=!1;k.altKey=!1;k.shiftKey=!1;k.metaKey=!1;k.Vb=!1;k.M=null;
k.ma=function(a,b){var c=this.type=a.type;Pa.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(v){var e;a:{try{Qa(d.nodeName);e=!0;break a}catch(f){}e=!1}e||(d=null)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=A||void 0!==a.offsetX?a.offsetX:a.layerX;this.offsetY=A||void 0!==a.offsetY?a.offsetY:a.layerY;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:
a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.Vb=ta?a.metaKey:a.ctrlKey;this.state=a.state;this.M=a;a.defaultPrevented&&this.preventDefault();delete this.Ta};k.stopPropagation=function(){S.tb.stopPropagation.call(this);this.M.stopPropagation?this.M.stopPropagation():this.M.cancelBubble=!0};
k.preventDefault=function(){S.tb.preventDefault.call(this);var a=this.M;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Oa)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var Ra="closure_listenable_"+(1E6*Math.random()|0),Sa=0;function Ta(a,b,c,d,e,f){this.ya=a;this.qb=b;this.src=c;this.type=d;this.capture=!!e;this.$a=f;this.key=++Sa;this.La=this.Xa=!1};var Ua={},T={},U={},V={};
function W(a,b,c,d,e){if("array"==aa(b))for(var f=0;f<b.length;f++)W(a,b[f],c,d,e);else if(c=Va(c),a&&a[Ra])a.dc(b,c,d,e);else a:{if(!b)throw Error("Invalid event type");d=!!d;var g=T;b in g||(g[b]={aa:0});g=g[b];d in g||(g[d]={aa:0},g.aa++);var g=g[d],f=a[p]||(a[p]=++ba),h;if(g[f]){h=g[f];for(var l=0;l<h.length;l++)if(g=h[l],g.ya==c&&g.$a==e){if(g.La)break;h[l].Xa=!1;break a}}else h=g[f]=[],g.aa++;l=Wa();g=new Ta(c,l,a,b,d,e);g.Xa=!1;l.src=a;l.ya=g;h.push(g);U[f]||(U[f]=[]);U[f].push(g);a.addEventListener?
a.addEventListener(b,l,d):a.attachEvent(b in V?V[b]:V[b]="on"+b,l);Ua[g.key]=g}}function Wa(){var a=Xa,b=Na?function(c){return a.call(b.src,b.ya,c)}:function(c){c=a.call(b.src,b.ya,c);if(!c)return c};return b}function Ya(a,b,c){var d=1;b=b[p]||(b[p]=++ba);if(a[b]){a=a[b];b=a.length;if(0<b){for(var e=Array(b),f=0;f<b;f++)e[f]=a[f];a=e}else a=[];for(b=0;b<a.length;b++)(e=a[b])&&!e.La&&(d&=!1!==Za(e,c))}return Boolean(d)}
function Za(a,b){var c=a.ya,d=a.$a||a.src;if(a.Xa&&"number"!=typeof a&&a&&!a.La){var e=a.src;if(e&&e[Ra])e.ec(a);else{var f=a.type,g=a.qb,h=a.capture;e.removeEventListener?e.removeEventListener(f,g,h):e.detachEvent&&e.detachEvent(f in V?V[f]:V[f]="on"+f,g);e=e[p]||(e[p]=++ba);U[e]&&(g=U[e],ia(g,a),0==g.length&&delete U[e]);a.La=!0;a.ya=null;a.qb=null;a.src=null;a.$a=null;if(g=T[f][h][e])ia(g,a),0==g.length&&(delete T[f][h][e],T[f][h].aa--),0==T[f][h].aa&&(delete T[f][h],T[f].aa--),0==T[f].aa&&delete T[f];
delete Ua[a.key]}}return c.call(d,b)}
function Xa(a,b){if(a.La)return!0;var c=a.type,d=T;if(!(c in d))return!0;var d=d[c],e,f;if(!Na){if(!(c=b))a:{for(var c=["window","event"],g=m;e=c.shift();)if(null!=g[e])g=g[e];else{c=null;break a}c=g}e=c;c=!0 in d;g=!1 in d;if(c){if(0>e.keyCode||void 0!=e.returnValue)return!0;a:{var h=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(l){h=!0}if(h||void 0==e.returnValue)e.returnValue=!0}}h=new S;h.ma(e,this);e=!0;try{if(c){for(var s=[],w=h.currentTarget;w;w=w.parentNode)s.push(w);f=d[!0];for(var z=
s.length-1;!h.Ta&&0<=z;z--)h.currentTarget=s[z],e&=Ya(f,s[z],h);if(g)for(f=d[!1],z=0;!h.Ta&&z<s.length;z++)h.currentTarget=s[z],e&=Ya(f,s[z],h)}else e=Za(a,h)}finally{s&&(s.length=0)}return e}d=new S(b,this);return e=Za(a,d)}var $a="__closure_events_fn_"+(1E9*Math.random()>>>0);function Va(a){return"function"==aa(a)?a:a[$a]||(a[$a]=function(b){return a.handleEvent(b)})};function X(a,b,c){if(n(b))ab(a,c,b);else{a=da(ab,a);for(var d in b)a.call(void 0,b[d],d,b)}}function ab(a,b,c){(c=bb(a,c))&&(a.style[c]=b)}function bb(a,b){var c=ea(b);if(void 0===a.style[c]){var d=(A?"Webkit":v?"Moz":u?"ms":qa?"O":null)+fa(b);if(void 0!==a.style[d])return d}return c}function cb(a,b){var c=a.style[ea(b)];return"undefined"!==typeof c?c:a.style[bb(a,b)]||""};function db(a){return a?{s:a.src,w:a.width,h:a.height}:null}function eb(a){if(a){var b=new Image;b.src=a.s;b.width=a.w;b.height=a.h;return b}return null}function Y(a){return{width:a.w,height:a.h,src:a.s,fb:a.x,gb:a.y,name:a.n,index:a.i}}var Z={P:"posX",Q:"posY",dir:"dir",speed:"speed",vb:"visiable",status:"status",jb:"belong",G:"others","\u6a2a\u5750\u6807":"posX","\u7eb5\u5750\u6807":"posY","\u65b9\u5411":"dir","\u901f\u5ea6":"speed","\u53ef\u7a7f\u900f":"visiable","\u72b6\u6001":"status","\u5c5e\u4e8e":"belong"};
function fb(a,b){return{o:a,n:b}}function gb(a,b,c,d,e){return{x:a,y:b,l:c,a:d,i:e}}function hb(a){return{Ia:a.ej,Ha:a.ea,W:a.em,Qa:a.mc,name:a.nm,type:a.ty}}function ib(a){return{B:a.fn,N:a.fa,eb:a.op,Ma:a.sn,F:a.sa,Ra:a.lo}}function jb(a){return{action:a.ac,B:a.fn,N:a.fa,Ma:a.sn,F:a.sa}}function kb(a){return{rotate:a.r,ub:a.t,ib:a.s}}function lb(a){return{u:a.n,links:a.l,name:a.m,type:a.t}}function mb(a){return{left:a.l,top:a.t,type:a.y,index:a.i,H:a.v}};function nb(a){this.L=a}k=nb.prototype;k.L=null;k.S=null;k.setData=function(a){this.L=a};k.getData=function(){return this.L};k.setAttribute=function(a,b){Z[a]&&(a=Z[a]);var c=!1,d;for(d in Z)if(Z[d]==a){this.S[a]=b;c=!0;break}c||(this.S[Z.G][a]=b)};k.getAttribute=function(a){Z[a]&&(a=Z[a]);return null!=this.S[a]&&void 0!=this.S[a]?this.S[a]:null!=this.S[Z.G][a]&&void 0!=this.S[Z.G][a]?this.S[Z.G][a]:null};function ob(a,b){this.L=a;this.Y={};this.T={};b&&(this.Ub=b);var c=this.L.S,d;for(d in c)if(this.T[d]=-1,d==Z.G){this.T[d]={};for(var e in c[d])this.T[d][e]=-1}}k=ob.prototype;k.L=null;k.Y=null;k.T=null;k.Ub=null;k.setAttribute=function(a,b){Z[a]&&(a=Z[a]);var c=!1,d;for(d in Z)if(Z[d]==a){this.Y[a]=b;this.T[a]=1;c=!0;break}c||(this.Y[Z.G]&&(this.Y[Z.G]={}),this.T[Z.G]&&(this.T[Z.G]={}),this.Y[Z.G][a]=b,this.T[Z.G][a]=1)};
k.getAttribute=function(a){Z[a]&&(a=Z[a]);return 1==this.T[a]?this.Y[a]:this.T[Z.G]&&1==this.T[Z.G][a]?this.Y[Z.G][a]:this.L.getAttribute(a)};k.getName=function(){return this.L.getData().name?this.L.getData().name:Y(this.L.getData()).name};function pb(a,b){function c(){var a=h.getAttribute(Z.P),b=h.getAttribute(Z.Q),f=!1;0.01<a-d?(a-=0.05,f=!0):0.01<d-a&&(a+=0.05,f=!0);0.01<b-e?(b-=0.05,f=!0):0.01<e-b&&(b+=0.05,f=!0);f?(h.setAttribute(Z.P,a),h.setAttribute(Z.Q,b),window.setTimeout(function(){c()},30)):(h.setAttribute(Z.P,d),h.setAttribute(Z.Q,e),h.setAttribute(Z.status,l))}var d=a.getAttribute(Z.P),e=a.getAttribute(Z.Q),f=a.getAttribute(Z.speed),g=a.getAttribute(Z.dir),h=b[e][d];b[e][d]=null;var d=parseInt(d),e=parseInt(e),l=a.getAttribute(Z.status),
f=parseInt(f);switch(g){case "\u4e0a":e-=f;break;case "\u4e0b":e+=f;break;case "\u5de6":d-=f;break;case "\u53f3":d+=f}b[e][d]=h;b[e][d].setAttribute(Z.status,"moving");c()}function qb(a,b,c){if(null!=a&&void 0!=a){var d=a.getAttribute(b);window.isNaN(parseInt(d))||window.isNaN(parseInt(c))||(d=parseInt(d)+parseInt(c),a.setAttribute(b,d))}}
function rb(a,b,c){if(null!=a&&void 0!=a){var d=a.getAttribute(b);window.isNaN(parseInt(d))||window.isNaN(parseInt(c))||(d=parseInt(d)-parseInt(c),a.setAttribute(b,d))}};u&&C(8);function sb(){return'\x3cdiv class\x3d"editbox"\x3e\x3cselect class\x3d"editboxselect"\x3e\x3c/select\x3e\x3cinput type\x3d"text" class\x3d"editboxinput" /\x3e\x3c/div\x3e'};function tb(){this.ma();this.d.oa=H("workflowList");this.d.Na=H("workflowPart");this.d.pa=G("wfp",this.d.Na);this.d.Wb=H("wfpRemove",this.d.Na);this.d.Da=H("workflowspace");this.d.U=H("cellName");this.d.V=H("chooseType");this.d.ba=H("eventList");this.d.C=H("workflowCanvas");var a=this.d;W(a.pa[0],"click",this.Fa,!1,this);W(a.pa[1],"click",this.Fa,!1,this);W(a.pa[2],"click",this.Fa,!1,this);W(a.pa[3],"click",this.Fa,!1,this)}k=tb.prototype;k.d=null;k.qa=null;k.da=null;k.Va=null;k.Ca=null;k.wa=null;
k.O=null;k.ca=null;k.ma=function(){this.d={};this.qa=[];this.O={};this.ca=this.Va=this.da=0;this.Ca=!1};
k.Fa=function(a,b,c){a&&(a=a.M,a=a.target||a.srcElement);var d=J("div");D(d,"part");var e=J("p");D(e,"up");D(e,"pp");O(e,"+");var f=J("p");D(f,"left");D(f,"pp");O(f,"+");var g=J("p");D(g,"right");D(g,"pp");O(g,"+");var h=J("p");D(h,"down");D(h,"pp");O(h,"+");d.appendChild(e);d.appendChild(f);if(a==this.d.pa[2]||"jPart"==b)D(d,"jPart"),b=ub(this),d.appendChild(b),vb(this,e,f,g,h);else if(a==this.d.pa[0]||"sePart"==b)D(d,"sePart"),b=L('\x3cselect class\x3d"startAndEnd"\x3e\x3coption\x3e\u5f00\u59cb\x3c/option\x3e\x3coption\x3e\u7ed3\u675f\x3c/option\x3e\x3c/select\x3e'),
D(b,"sel"),d.appendChild(b),vb(this,e,f,g,h);else if(a==this.d.pa[1]||"ioPart"==b)D(d,"ioPart",1),vb(this,e,f,g,h);else if(a==this.d.pa[3]||"sPart"==b)D(d,"sPart"),b=ub(this),d.appendChild(b),vb(this,e,f,g,h);d.appendChild(g);d.appendChild(h);a||(this.ca=c);d.D=this.ca;e.D=10*this.ca+0;f.D=10*this.ca+1;g.D=10*this.ca+2;h.D=10*this.ca+3;++this.ca;this.d.Da.appendChild(d);wb(this,d);return d};
function vb(a,b,c,d,e){function f(b){b=b.M;b=b.target||b.srcElement;a.Ca?(b!=a.wa&&b.parentNode!=a.wa.parentNode?a.O[a.wa.D]=[a.wa,b]:b==a.wa&&(a.O[a.wa.D]=null),a.Ca=!1):(a.wa=b,a.Ca=!0);a.ra()}W(b,"click",function(a){f(a)},!1,a);W(c,"click",function(a){f(a)},!1,a);W(d,"click",function(a){f(a)},!1,a);W(e,"click",function(a){f(a)},!1,a)}
function wb(a,b){var c=!1,d=0,e=0;W(b,"mousedown",function(f){if(a.d.Wb.checked){for(var g in this.O)this.O[g]&&(f=Math.floor(this.O[g][1].D/10),Math.floor(this.O[g][0].D/10)==b.D||f==b.D)&&(this.O[g]=null);N(b);a.ra();return!1}c=!0;f=f.M;g=f.y;d=f.x-parseInt(window.getComputedStyle(b)["margin-left"].split("px")[0]);e=g-parseInt(window.getComputedStyle(b)["margin-top"].split("px")[0])},!1,a);W(b,"mousemove",function(f){if(!c)return!1;f=f.M;f.preventDefault();5<=f.y-e&&550>=f.y-e&&X(b,"margin-top",
f.y-e+"px");30<=f.x-d&&690>=f.x-d&&X(b,"margin-left",f.x-d+"px");a.ra();return!1},!1,a);W(b,"mouseup",function(a){a=a.M;a.preventDefault();return c=!1},!1,a)}function ub(a){var b=J("select");D(b,"actionList");D(b,"sel");for(var c=G("me",a.d.ba),d=0,e=c.length;d<e;++d){var f=J("option");O(f,R(c[d]));D(f,"new");D(f,"judge");b.appendChild(f)}c=G("me",a.d.oa);d=1;for(e=c.length;d<e;++d)f=J("option"),O(f,R(c[d])),D(f,"new"),D(f,"workflow"),b.appendChild(f);W(b,"mousedown",a.Fb,!1,a);return b}
k.Fb=function(a){a=a.M;a=a.target||a.srcElement;for(var b=a.options.selectedIndex,c=a.options.length-1;0<=c;--c)F(a.options[c],"new")&&N(a.options[c]);for(var d=G("me",this.d.ba),c=0,e=d.length;c<e;++c){var f=J("option");O(f,R(d[c]));D(f,"new");D(f,"judge");a.appendChild(f)}d=G("me",this.d.oa);c=1;for(e=d.length;c<e;++c)f=J("option"),O(f,R(d[c])),D(f,"new"),D(f,"workflow"),a.appendChild(f);a.options.selectedIndex=b};
k.ra=function(){var a=this.d.C.getContext("2d");a.clearRect(0,0,800,600);var b=this.d.C.getBoundingClientRect().left-5,c=this.d.C.getBoundingClientRect().top,d;for(d in this.O)if(null!=this.O[d]){var e=this.O[d][0].getBoundingClientRect(),f=this.O[d][1].getBoundingClientRect(),g=e.left-b,e=e.top-c,h=f.left-b,f=f.top-c;a.beginPath();a.moveTo(g,e);a.lineTo(h,f);a.fillStyle="#FF0000";a.stroke();a.beginPath();a.arc(h,f,7,0,2*Math.PI,!0);a.closePath();a.fill()}};
k.ab=function(){var a=""!=this.d.U.value?this.d.U.value:"\u7a7a",b=this.d.V.options.selectedIndex;-1!=b&&(b=this.d.V.options[b].value);for(var c=G("part",this.d.Da),d=[],e=0,f=c.length;e<f;++e){var g=cb(c[e],"margin-left"),h=cb(c[e],"margin-top"),l=H("sel",c[e]),s=l.options.selectedIndex,l=-1!=s?l.options[s].value:"",s=Fa(c[e])[1];d.push({l:g,t:h,y:s,i:c[e].D,v:l})}var c=[],w;for(w in this.O)this.O[w]&&c.push([this.O[w][0].D,this.O[w][1].D]);w=G("me",this.d.oa);this.qa[this.da]?(this.qa[this.da]=
{n:d,l:c,m:a,t:b},O(w[this.da],a)):(this.qa[this.da]={n:d,l:c,m:a,t:b},b=J("li"),O(b,a),D(b,"me"),b.D=this.da,this.d.oa.appendChild(b),W(b,"click",this.ua,!1,this),++this.Va)};k.ia=function(a,b){for(var c=0,d=a.options.length;c<d;++c)if(a.options[c].value==b){a.options.selectedIndex=c;break}};
k.ua=function(a){this.clear();a=a.M;a=a.target||a.srcElement;this.da=a.D;this.Ca=!1;a=lb(this.qa[this.da]);this.d.U.value=a.name;this.ia(this.d.V,a.type);for(var b=0,c={},d=0,e=a.u.length;d<e;++d){var f=mb(a.u[d]);f.index>b&&(b=f.index);var g=this.Fa(null,f.type,f.index);X(g,"margin-left",f.left);X(g,"margin-top",f.top);this.ia(H("sel",g),f.H);c[f.index]=g}this.ca=++b;d=0;for(e=a.links.length;d<e;++d){var b=Math.floor(parseInt(a.links[d][0])%10),h=Math.floor(parseInt(a.links[d][1])/10),f=Math.floor(parseInt(a.links[d][1])%
10),g=G("pp",c[Math.floor(parseInt(a.links[d][0])/10)]),h=G("pp",c[h]);this.O[parseInt(a.links[d][0])]=[g[b],h[f]]}this.ra()};k.clear=function(){this.da=this.Va;this.d.C.getContext("2d").clearRect(0,0,800,600);for(var a=G("part",this.d.Da),b=a.length-1;0<=b;--b)N(a[b]);this.Ca=!1;this.O={};this.ca=0};function xb(a,b,c,d,e,f,g){this.R=a;this.q=ca(b);this.J=c;this.g=ca(d);this.j=ca(e);this.A=ca(f);this.C=g;e={};a=0;for(b=this.j.length;a<b;++a){this.j[a]=hb(this.j[a]);c=0;for(d=this.j[a].Ia.length;c<d;++c)this.j[a].Ia[c]=ib(this.j[a].Ia[c]);c=0;for(d=this.j[a].Ha.length;c<d;++c)this.j[a].Ha[c]=jb(this.j[a].Ha[c]);g=f=0;this.j[a].Qa=kb(this.j[a].Qa);c=0;for(d=this.j[a].W.length;c<d;++c){this.j[a].W[c]={Ba:this.j[a].W[c].p,status:this.j[a].W[c].s};var h=this.j[a].W[c].Ba,l=Math.floor(parseInt(h)%this.R[0]),
h=Math.floor(parseInt(h)/this.R[0]);0>=c&&(f=l,g=h);this.j[a].W[c].Ba=!1==this.j[a].Qa.ib?[l-f,h-g]:[l,h]}e[this.j[a].name]=this.j[a]}this.j=e;e={};a=0;for(b=this.A.length;a<b;++a){this.A[a]=lb(this.A[a]);this.A[a].sb=-1;this.A[a].mb=-1;f={};c=0;for(d=this.A[a].u.length;c<d;++c)g=this.A[a].u[c],g=mb(g),f[g.index]=g,"sePart"==g.type&&("\u5f00\u59cb"==g.H?this.A[a].sb=g.index:this.A[a].mb=g.index);this.A[a].u=f;f={};c=0;for(d=this.A[a].links.length;c<d;++c){var s=this.A[a].links[c];g=Math.floor(parseInt(s[0])/
10);l=Math.floor(parseInt(s[0])%10);h=Math.floor(parseInt(s[1])/10);s=Math.floor(parseInt(s[1])%10);!f[g]&&(f[g]=[]);f[g].push([l,h,s])}this.A[a].links=f;e[this.A[a].name]=this.A[a];0==a&&(e.Qb=this.A[a].name)}this.A=e;c={};a=0;for(b=this.q.length;a<b;++a)d=Y(this.q[a].getData()),d.src=eb(d.src),this.q[a].setData(d),c[this.q[a].getData().name]=this.q[a];this.q=c;c=0;for(d=this.g.length;c<d;++c)for(a=0,b=this.g[c].length;a<b;++a)this.g[c][a]&&(e=this.q[this.g[c][a].getName()],this.g[c][a].L=e)}k=xb.prototype;
k.R=null;k.q=null;k.J=null;k.g=null;k.j=null;k.A=null;k.C=null;k.lb=null;function yb(a){a.lb=window.setInterval(function(){a.ra()},40);zb(a,a.A.Qb)}
function zb(a,b){function c(){e=d.links[f.index];switch(f.type){case "sePart":for(var b=0,l=e.length;b<l;){e=e[b][1];break}f=d.u[e];break;case "jPart":g=a.A[f.H]?zb(a,f.H):a.j[f.H]?Ab(a,f.H,!1):[!1,null];b=0;for(l=e.length;b<l;++b)if(g[0]){if(3==e[b][0]){e=e[b][1];break}}else if(3!=e[b][0]){e=e[b][1];break}f=d.u[e];break;case "sPart":g=a.A[f.H]?zb(a,f.H):a.j[f.H]?Ab(a,f.H,!0):[5<10*Math.random()?!0:!1,null];b=0;for(l=e.length;b<l;){e=e[b][1];break}f=d.u[e]}a.ra();f.index!=d.mb&&window.setTimeout(function(){c()},
20)}var d=a.A[b],e=d.sb,f=d.u[e],g=null;c();return g}
function Ab(a,b,c){b=a.j[b];var d=null,e=null;do{for(var d=a,e=b.Ia,f=b,g={x:-1,y:-1,pb:null},h={I:!0,H:null},l=null,s=e[0],w=!1,z=!1,y=0,$=d.g.length;y<$&&!z;++y)for(var P=0,M=d.g[y].length;P<M&&!z;++P)if(g={x:-1,y:-1,pb:null},h={I:!0,H:null},"\u5f62\u72b6"==s.N){for(var l=w=!0,r="",x=-1,ra=-1,K=0,Ia=f.W.length;K<Ia;++K){var B=P+f.W[K].Ba[0],I=y+f.W[K].Ba[1];if(!(0<=B&&B<d.R[0]&&0<=I&&I<d.R[1])){l=!1;break}if(!d.g[I][B]){l=!1;break}0>=K&&(r=d.g[I][B].getName(),x=B,ra=I);switch(s.B){case "\u4efb\u610f":case "":break;
case "\u540c\u4e00":l=d.g[I][B].getName()==r;break;default:l=d.g[I][B].getName()==s.B}if(!l)break;g.x=B;g.y=I;B=1;for(I=e.length;B<I&&l;++B){var l=e[B],Q="\u5e76\u4e14";1<=B&&(Q=e[B-1].Ra);Bb(d,l,g,h,Q);l=h.I}}if(l){g.x=x;g.y=ra;z=l;break}}else{g.x=P;g.y=y;l=!0;B=0;for(I=e.length;B<I&&l;++B)l=e[B],Q="\u5e76\u4e14",1<=B&&(Q=e[B-1].Ra),Bb(d,l,g,h,Q),(l=h.I)&&(w=!0);if(l){z=l;break}}if(!w){g={x:-1,y:-1,pb:null};h={I:!0,H:null};l=!0;K=0;for(Ia=e.length&&l;K<Ia;++K)l=e[K],Q="\u5e76\u4e14",1<=K&&(Q=e[K-
1].Ra),Bb(d,l,g,h,Q),l=h.I;z=l}d={I:z,u:g,result:h};if(d.I&&c){e=a;f=b.Ha;g=b;h=d;s=!0;w=0;for(z=f.length;w<z;++w){y=e;r=f[w];M=g;x=h;switch(r.action){case "\u6d88\u9664":if("\u5f62\u72b6"==r.N)for(r=0,ra=M.W.length;r<ra;++r)P=x.u.x+M.W[r].Ba[0],$=x.u.y+M.W[r].Ba[1],y.g[$][P]=null;break;case "\u521b\u5efa":if("\u5f62\u72b6"!=r.N){P=x.u.x;$=x.u.y;M=[];if(-1!=r.B.indexOf("\u4efb\u610f")||-1!=r.B.indexOf("\u540c\u4e00"))for(x in x=void 0,y.q)y.q[x].getAttribute(r.N)==r.F&&M.push(x);else M.push(r.B);
r=y.g[$];x=P;y=new ob(y.q[M[Math.floor(100*Math.random())%M.length]]);y.setAttribute(Z.P,P);y.setAttribute(Z.Q,$);r[x]=y}break;case "\u6539\u53d8\u5c5e\u6027":"\u4efb\u610f"==r.B||"\u540c\u4e00"==r.B?y.g[x.u.y][x.u.x].setAttribute(r.N,r.F):"\u4efb\u610f2"==r.B||"\u540c\u4e002"==r.B?y.g[x.u.ka][x.u.ja].setAttribute(r.N,r.F):y.q[r.B].setAttribute(r.N,r.F);break;case "\u5411\u4e0b\u79fb\u52a8":"\u4efb\u610f"==r.B||"\u540c\u4e00"==r.B?pb(y.g[x.u.y][x.u.x],y.g):"\u4efb\u610f2"!=r.B&&"\u540c\u4e002"!=r.B||
pb(y.g[x.u.ka][x.u.ja],y.g);break;case "\u6570\u503c\u589e\u52a0":"\u4efb\u610f"==r.B||"\u540c\u4e00"==r.B?qb(y.g[x.u.y][x.u.x],r.N,r.F):"\u4efb\u610f2"==r.B||"\u540c\u4e002"==r.B?qb(y.g[x.u.ka][x.u.ja],r.N,r.F):qb(y.q[r.B],r.N,r.F);break;case "\u6570\u503c\u51cf\u5c11":"\u4efb\u610f"==r.B||"\u540c\u4e00"==r.B?rb(y.g[x.u.y][x.u.x],r.N,r.F):"\u4efb\u610f2"==r.B||"\u540c\u4e002"==r.B?rb(y.g[x.u.ka][x.u.ja],r.N,r.F):rb(y.q[r.B],r.N,r.F);break;case "\u7ed3\u675f\u6e38\u620f":window.clearInterval(y.lb);
break;case "\u7ed3\u675f\u4e8b\u4ef6":x.I=!1}if(!h.I){s=!1;break}}e={result:h,next:s,action:f}}else return[d.I,null]}while(e.next);return[d.I,e]}
function Bb(a,b,c,d,e){var f="\u6a2a\u5750\u6807"==b.N,g="\u7eb5\u5750\u6807"==b.N,h="\u6a2a\u5750\u6807"==b.F,l="\u7eb5\u5750\u6807"==b.F,s=""==b.Ma;if(f||g){if(h||l){f&&h&&(c.ja=c.x);f&&l&&(c.ja=c.y);g&&h&&(c.ka=c.x);g&&l&&(c.ka=c.y);Cb(d,e,!0);return}if(s){window.isNaN(parseInt(b.F))||(b.F=parseInt(b.F));switch(b.eb){case "\u51cf\u53bb":d.H=(f?c.x:c.y)-b.F;break;case "\u52a0\u4e0a":d.H=(f?c.x:c.y)+b.F;break;case "\u4e58\u4ee5":d.H=(f?c.x:c.y)*b.F;break;case "\u9664\u4ee5":d.H=(f?c.x:c.y)/b.F}Cb(d,
e,!0);return}}else if(h||l){h&&(c.ja=d.H);l&&(c.ka=d.H);Cb(d,e,0<=c.ja&&c.ja<a.R[0]&&0<=c.ka&&c.ka<a.R[1]);return}f=Db(a,b.B,b.N,d.H,c);a=Db(a,b.Ma,b.F,d.H,c);c=!1;g=0;window.isNaN(parseInt(f))||(f=parseInt(f));window.isNaN(parseInt(a))||(a=parseInt(a));switch(b.eb){case "\u5c0f\u4e8e":c=f<a;break;case "\u5927\u4e8e":c=f>a;break;case "\u7b49\u4e8e":c=f==a;break;case "\u4e0d\u7b49\u4e8e":c=f!=a;break;case "\u5927\u4e8e\u7b49\u4e8e":c=f>=a;break;case "\u5c0f\u4e8e\u7b49\u4e8e":c=f<=a;break;case "\u51cf\u53bb":g=
f-a;c=!0;break;case "\u52a0\u4e0a":g=f+a;c=!0;break;case "\u4e58\u4ee5":g=f*a;c=!0;break;case "\u9664\u4ee5":g=f/a;c=!0;break;default:c=!0}Cb(d,e,c);d.H=g}function Cb(a,b,c){switch(b){case "\u5e76\u4e14":a.I=a.I&&c;break;case "\u6216\u8005":a.I=a.I||c;break;case "\u5e76\u4e14\u4e0d\u662f":a.I=a.I&&!c;break;case "\u6216\u8005\u4e0d\u662f":a.I=a.I||!c;break;default:a.I=a.I||c}}
function Db(a,b,c,d,e){var f=null;switch(b){case "\u7ed3\u679c":f=d;"\u7edd\u5bf9\u503c"==c&&0>f&&(f=-f);break;case "":f=c;break;default:-1==e.x?f=a.q[b]&&(f=a.q[b].getAttribute(c)):(f="\u4efb\u610f2"==b||"\u540c\u4e002"==b?a.g[e.ka][e.ja]:a.g[e.y][e.x],f=null==f||void 0==f?"\u4e0d\u5b58\u5728":""!=c?f.getAttribute(c):"\u5b58\u5728")}return f}
k.ra=function(){var a=this.C,b=800/this.R[0],c=600/this.R[1];a.clearRect(0,0,800,600);this.J&&a.drawImage(this.J,0,0,this.J.width,this.J.height);for(var d=0,e=this.g.length;d<e;++d)for(var f=0,g=this.g[d].length;f<g;++f){var h=this.g[d][f];if(h){var l=h.getAttribute(Z.P),s=h.getAttribute(Z.Q);(h=h.L.getData().src)&&a.drawImage(h,l*b,s*c,h.width,h.height)}}};function Eb(a,b,c,d){this.ma(a,b,c,d);this.Za();this.hb();this.Wa();a=G("atd",this.d.ga);b=0;for(c=a.length;b<c;++b)if(a[b].Eb=b,!G("editbox",a[b]).length){var e=L(sb()),f=H("editboxinput",e),g=H("editboxselect",e);switch(b){case 0:f.value="\u65e0";var h=J("option");O(h,"\u65e0");g.appendChild(h);break;case 1:f.value="\u65e0";h=J("option");O(h,"\u65e0");g.appendChild(h);break;case 2:f.value="\u4e0a";var h=J("option"),l=J("option"),s=J("option"),w=J("option");O(h,"\u4e0a");O(l,"\u4e0b");O(s,"\u5de6");
O(w,"\u53f3");g.appendChild(h);g.appendChild(l);g.appendChild(s);g.appendChild(w);break;case 3:f.value="1";h=J("option");O(h,"1");g.appendChild(h);break;case 4:f.value="\u5426";h=J("option");l=J("option");O(h,"\u5426");O(l,"\u662f");g.appendChild(h);g.appendChild(l);break;case 5:f.value="\u65e0";h=J("option");O(h,"\u65e0");g.appendChild(h);break;case 6:f.value="\u65e0",h=J("option"),O(h,"\u65e0"),g.appendChild(h)}a[b].appendChild(e);Fb(this,g,f)}if(d){this.Ua=d.Ga.length;this.Pa=d.event.length;for(a=
0;a<d.Ga.length;++a)this.q[a]=new nb(d.Ga[a][0]),this.q[a].S=d.Ga[a][1],b=Y(d.Ga[a][0]).name,c=J("li"),O(c,b),D(c,"ch"),c.D=a,this.d.na.appendChild(c),W(c,"click",this.ua,!1,this);h=G("atd",this.d.ga);a=0;for(c=h.length;a<c;++a){l=H("editboxselect",h[a]);s=l.options.selectedIndex;for(e=l.options.length-1;0<=e;--e)N(l.options[e]);b=d.Oa[a].o;e=0;for(f=b.length;e<f;++e)g=J("option"),O(g,b[e]),l.appendChild(g);l.options.selectedIndex=s}for(a=h.length;a<d.Oa.length;++a){b={options:d.Oa[a].o,name:d.Oa[a].n};
c=J("li");f=J("p");D(c,"at");O(f,b.name);e=L(sb());D(f,"val");c.appendChild(f);c.appendChild(e);this.d.ga.appendChild(c);f=H("editboxinput",e);h=H("editboxselect",e);Fb(this,h,f);e=0;for(f=b.options.length;e<f;++e)g=J("option"),O(g,b.options[e]),h.appendChild(g);W(c,"click",this.kb,!1,this)}a=0;for(c=d.Ea.length;a<c;++a)b=d.Ea[a].x,e=d.Ea[a].y,f=d.Ea[a].l,g=d.Ea[a].a,this.g[e][b]=new ob(this.q[d.Ea[a].i]),this.g[e][b].T=f,this.g[e][b].Y=g;this.j=d.event;for(a=0;a<this.j.length;++a)c=J("li"),b=hb(this.j[a]).name,
O(c,b),D(c,"me"),c.D=a,this.d.ba.appendChild(c),W(c,"click",this.ua,!1,this);a=this.A;d=d.cc;a.da=0;if(d)for(a.Va=d.length,a.qa=d,b=0,c=d.length;b<c;++b)e=lb(d[b]),f=J("li"),O(f,e.name),D(f,"me"),f.D=b,a.d.oa.appendChild(f),W(f,"click",a.ua,!1,a)}}k=Eb.prototype;k.R=null;k.d=null;k.k=null;k.X=null;k.q=null;k.K=null;k.Ua=null;k.la=null;k.J=null;k.aa=null;k.g=null;k.j=null;k.ha=null;k.Pa=null;k.A=null;k.ob=null;
k.ma=function(a,b,c){a=parseInt(a);b=parseInt(b);"NaN"==a&&(a=20);"NaN"==b&&(b=15);this.Ua=this.aa=0;this.q=[];this.Pa=this.K=0;this.j=[];this.ha=0;this.R=[a,b];this.d={};this.la={};this.k=[];this.g=[];this.J=eb(c);this.A=new tb;this.X=1};
k.Za=function(){this.d.C=n("canvas")?document.getElementById("canvas"):"canvas";this.d.k=L('\x3cdiv class\x3d"mapArea"\x3e\x3c/div\x3e');this.d.za=H("mapimgdiv");this.d.Y=H("attribute");this.d.xa=H("chooseAction");this.d.ta=H("makeSure");this.d.U=H("cellName");this.d.Z=H("checkOption");this.d.Gb=G("cpt",this.d.Z);this.d.Aa=H("message");this.d.V=H("chooseType");this.d.va=H("selectAttr");this.d.na=H("productlist");this.d.ba=H("eventList");this.d.ga=H("attributeList");this.d.zb=H("addCharacter");this.d.yb=
H("addAttribute");this.d.Db=H("addWorld");this.d.Ab=H("addEvent");this.d.Cb=H("addWorkflow");this.d.xb=H("addActionBtn");this.d.bc=H("saveGameData");this.d.Nb=H("downloaddata");this.d.oa=H("workflowList");this.d.Na=H("workflowPart");this.d.Da=H("workflowspace");this.d.Zb=H("runGame")};
k.hb=function(){for(var a=this.d,b=this,c=100/this.R[0]+"%",d=100/this.R[1]+"%",e=0;e<this.R[1];++e){this.k[e]=[];this.g[e]=[];for(var f=0;f<this.R[0];++f){var g=L('\x3cdiv class\x3d"mapBlock"\x3e\x3c/div\x3e');X(g,"width",c);X(g,"height",d);g.Ja=f;g.Ka=e;(function(a){W(a,"click",function(){if(5==b.X&&b.d.Gb[3].checked)F(a,"selectedEffect")?E(a,"selectedEffect"):D(a,"selectedEffect");else if(F(a,"selected"))switch(E(a,"selected"),b.X){case 1:0>=--b.aa&&(b.d.ta.style.display="none");break;case 3:b.g[a.Ka][a.Ja]=
null;Gb(b);break;case 5:F(a,"selectedNo")?(E(a,"selectedNo"),D(a,"selected"),D(a,"selectedHave")):F(a,"selectedHave")?(E(a,"selectedHave"),D(a,"selected"),D(a,"selectedNone")):F(a,"selectedNone")&&E(a,"selectedNone")}else switch(D(a,"selected"),b.X){case 1:++b.aa;b.d.ta.style.display="inline-block";break;case 3:b.g[a.Ka][a.Ja]=new ob(b.q[b.K]);b.g[a.Ka][a.Ja].setAttribute(Z.P,a.Ja);b.g[a.Ka][a.Ja].setAttribute(Z.Q,a.Ka);Gb(b);break;case 5:D(a,"selectedNo")}})})(g);a.k.appendChild(g);this.k[e].push(g)}}a.za.appendChild(a.k);
a.Aa.style.display="block"};k.Wa=function(){var a=this.d;W(a.k,"dragover",this.bb,!1,this);W(a.k,"drop",this.cb,!1,this);W(a.ta,"click",this.ab,!1,this);W(a.zb,"click",this.Ib,!1,this);W(a.yb,"click",this.createAttribute,!1,this);W(a.Db,"click",this.Pb,!1,this);W(a.Ab,"click",this.Ob,!1,this);W(a.xb,"click",this.wb,!1,this);W(a.Cb,"click",this.Bb,!1,this);W(a.bc,"click",this.$b,!1,this);W(a.V,"change",this.Ya,!1,this);W(a.Zb,"click",this.Yb,!1,this)};
k.$b=function(){for(var a=[],b=0,c=this.q.length;b<c;++b)a.push([this.q[b].getData(),this.q[b].S]);for(var d=[],e=G("atd",this.d.ga),f=G("at",this.d.ga),b=0,c=e.length;b<c;++b){for(var g=H("editboxselect",e[b]),h=[],l=0,s=g.options.length;l<s;++l)h.push(R(g.options[l]));d.push(fb(h,R(e[b].childNodes[0])))}b=0;for(c=f.length;b<c;++b){g=H("editboxselect",f[b]);h=[];l=0;for(s=g.options.length;l<s;++l)h.push(R(g.options[l]));d.push(fb(h,R(f[b].childNodes[0])))}c=[];for(l=0;l<this.g.length;++l)for(b=0;b<
this.g[l].length;++b)(e=this.g[l][b])&&c.push(gb(b,l,e.T,e.Y,Y(e.L.getData()).index));a={s:this.R,b:db(this.J),c:a,a:d,w:c,e:this.j,f:this.A.qa};this.ob=new xb(this.R,this.q,this.J,this.g,this.j,this.A.qa,this.d.C.getContext("2d"));this.d.Nb.href="data:text/paint; utf-8,"+JSON.stringify(a)};
k.setData=function(a){var b=window.getComputedStyle(this.k[0][0]).width,c=window.getComputedStyle(this.k[0][0]).height,b=parseFloat(b.substr(b,b.length-2)),c=parseFloat(c.substr(c,c.length-2)),d=Hb(this);0<d.length?(a.P=d[0],a.Q=d[1],a.width=d[2],a.height=d[3]):(a.P=0,a.Q=0,a.width=0,a.height=0);a.P*=b;a.Q*=c;a.width*=b;a.height*=c;this.la.src=db(a);return a};
k.ab=function(){switch(this.X){case 1:var a=this.la,b=Hb(this);this.la.P=b[0];this.la.Q=b[1];this.la.width=b[2];this.la.height=b[3];var c=""!=this.d.U.value?this.d.U.value:"\u7a7a";this.q[this.K]?(this.q[this.K].setData({w:a.width,h:a.height,s:a.src,x:a.P,y:a.Q,n:c,i:this.K}),a=G("ch",this.d.na),a=a[this.K],O(a,c)):(this.q[this.K]=new nb({w:a.width,h:a.height,s:a.src,x:a.P,y:a.Q,n:c,i:this.K}),a=J("li"),O(a,c),D(a,"ch"),a.D=this.K,this.d.na.appendChild(a),W(a,"click",this.ua,!1,this),++this.Ua);break;
case 2:var a=J("li"),d=J("p");D(a,"at");""!=this.d.U.value&&(O(d,this.d.U.value),b=L(sb()),D(d,"val"),a.appendChild(d),a.appendChild(b),this.d.ga.appendChild(a),d=H("editboxinput",b),b=H("editboxselect",b),Fb(this,b,d));W(a,"click",this.kb,!1,this);break;case 5:var a=[],b=[],d=[],e;e=G("cpt",this.d.Z)[0].checked;var c=G("cpt",this.d.Z)[1].checked,f=G("cpt",this.d.Z)[2].checked;e={r:e,t:c,s:f};for(var g=G("attr",this.d.va),c=0,f=g.length;c<f;++c){var h=G("cellAttr",g[c])[0],l=H("operation",g[c]),s=
G("cellAttr",g[c])[1],w=H("logic",g[c]);a.push({fn:h.childNodes[0][h.childNodes[0].options.selectedIndex].value,fa:h.childNodes[1].childNodes[1].value,op:l.childNodes[0][l.childNodes[0].options.selectedIndex].value,sn:s.childNodes[0][s.childNodes[0].options.selectedIndex].value,sa:s.childNodes[1].childNodes[1].value,lo:w.childNodes[0][w.childNodes[0].options.selectedIndex].value})}g=G("ac",this.d.xa);c=0;for(f=g.length;c<f;++c)l=H("actionList",g[c]),h=G("cellAttr",g[c])[0],s=G("cellAttr",g[c])[1],
b.push({ac:l[l.options.selectedIndex].value,fn:h.childNodes[0][h.childNodes[0].options.selectedIndex].value,fa:h.childNodes[1].childNodes[1].value,sn:s.childNodes[0][s.childNodes[0].options.selectedIndex].value,sa:s.childNodes[1].childNodes[1].value});h=G("mapBlock",this.d.k);c=0;for(f=h.length;c<f;++c)s=Fa(h[c]),1<s.length&&d.push({p:c,s:s});c=""!=this.d.U.value?this.d.U.value:"\u7a7a";f=this.d.V.options.selectedIndex;-1!=f&&(f=this.d.V.options[f].value);this.j[this.ha]?(this.j[this.ha]={ej:a,ea:b,
em:d,mc:e,nm:c,ty:f},a=G("me",this.d.ba),a=a[this.ha],O(a,c)):(this.j[this.ha]={ej:a,ea:b,em:d,mc:e,nm:c,ty:f},a=J("li"),O(a,c),D(a,"me"),a.D=this.ha,this.d.ba.appendChild(a),W(a,"click",this.ua,!1,this),++this.Pa);this.Ya();break;case 8:this.A.ab()}};
k.kb=function(a){a=a.M;for(a=a.target||a.srcElement;!F(a,"at");)a=a.parentNode;var b=this.q[this.K];if(F(a,"selected")){if(E(a,"selected"),b.S){var c=b.getAttribute(Z.G);c[R(H("val",a))]=null;b.setAttribute(Z.G,c)}}else D(a,"selected"),b.S&&(c=b.getAttribute(Z.G),c[R(H("val",a))]=0,b.setAttribute(Z.G,c))};
function Hb(a){for(var b=[],c=0,d=a.k.length;c<d;++c)for(var e=0,f=a.k[c].length;e<f;++e)F(a.k[c][e],"selected")&&b.push([c,e]);return 0<b.length?[b[0][1],b[0][0],b[b.length-1][1]-b[0][1]+1,b[b.length-1][0]-b[0][0]+1]:[]}
k.clear=function(){for(var a=0,b=this.k.length;a<b;++a)for(var c=0,d=this.k[a].length;c<d;++c)F(this.k[a][c],"selected")&&E(this.k[a][c],"selected"),F(this.k[a][c],"selectedNo")&&E(this.k[a][c],"selectedNo"),F(this.k[a][c],"selectedNone")&&E(this.k[a][c],"selectedNone"),F(this.k[a][c],"selectedHave")&&E(this.k[a][c],"selectedHave"),F(this.k[a][c],"selectedEffect")&&E(this.k[a][c],"selectedEffect");c=this.d.C.getContext("2d");c.clearRect(0,0,800,600);this.J&&c.drawImage(this.J,0,0,this.J.width,this.J.height);
this.d.U.value="";this.la=null;this.la={};G("cpt",this.d.Z)[0].checked=!1;G("cpt",this.d.Z)[1].checked=!1;G("cpt",this.d.Z)[2].checked=!1;a=G("ac",this.d.xa);for(c=a.length-1;0<=c;--c)N(a[c]);a=G("attr",this.d.va);for(c=a.length-1;0<=c;--c)N(a[c]);Ib(this);this.Ya();this.A.clear()};k.Ya=function(){for(var a=G("me",this.d.ba),b=0,c=this.j.length;b<c;++b){var d=hb(this.j[b]);d.type==this.d.V.options[this.d.V.options.selectedIndex].value?E(a[b],"hidden"):d.type&&D(a[b],"hidden")}};
function Jb(a){a.d.za.style.display="none";a.d.k.style.display="none";a.d.Y.style.display="none";a.d.ta.style.display="none";a.d.xa.style.display="none";a.d.Aa.style.display="none";a.d.Z.style.display="none";a.d.V.style.display="none";a.d.na.style.display="none";a.d.ba.style.display="none";a.d.va.style.display="none";a.d.Na.style.display="none";a.d.Da.style.display="none";a.d.oa.style.display="none";switch(a.X){case 1:a.d.za.style.display="block";a.d.k.style.display="block";a.d.Aa.style.display="block";
a.d.na.style.display="block";break;case 2:a.d.Y.style.display="block";a.d.ta.style.display="inline-block";a.d.Aa.style.display="block";a.d.na.style.display="block";break;case 3:a.d.za.style.display="block";a.d.k.style.display="block";a.d.na.style.display="block";break;case 5:a.d.xa.style.display="block";a.d.ta.style.display="inline-block";a.d.Aa.style.display="block";a.d.ba.style.display="block";a.d.va.style.display="block";a.d.za.style.display="block";a.d.k.style.display="block";a.d.Z.style.display=
"block";a.d.V.style.display="inline-block";break;case 8:a.d.ta.style.display="inline-block";a.d.Aa.style.display="block";a.d.oa.style.display="block";a.d.V.style.display="inline-block";a.d.Na.style.display="block";a.d.Da.style.display="block";break;case 13:a.d.za.style.display="block"}}k.Ib=function(){this.X=1;Jb(this);this.clear();this.K=this.Ua};k.createAttribute=function(){this.X=2;Jb(this);this.clear()};
k.Pb=function(){this.X=3;Jb(this);this.clear();for(var a=G("mapBlock",this.d.k),b=0;b<this.g.length;++b)for(var c=0;c<this.g[b].length;++c)this.g[b][c]&&D(a[b*this.R[0]+c],"selected");Gb(this)};k.Ob=function(){this.X=5;Jb(this);this.clear();this.ha=this.Pa};k.Bb=function(){this.X=8;Jb(this);this.clear()};k.Yb=function(){this.X=13;Jb(this);this.clear();yb(this.ob)};
function Kb(a){var b=L('\x3cdiv class\x3d"cellAttr"\x3e\x3cselect class\x3d"cellAttro"\x3e\x3coption\x3e\u4efb\u610f\x3c/option\x3e\x3coption\x3e\u4efb\u610f2\x3c/option\x3e\x3coption\x3e\u540c\u4e00\x3c/option\x3e\x3coption\x3e\u540c\u4e002\x3c/option\x3e\x3coption\x3e\u7ed3\u679c\x3c/option\x3e\x3coption\x3e\x3c/option\x3e\x3c/select\x3e\x3c/div\x3e'),c=L('\x3cdiv class\x3d"editbox"\x3e\x3cselect class\x3d"editboxselect cellAttrv"\x3e\x3coption\x3e\u6a2a\u5750\u6807\x3c/option\x3e\x3coption\x3e\u7eb5\u5750\u6807\x3c/option\x3e\x3coption\x3e\u65b9\u5411\x3c/option\x3e\x3coption\x3e\u901f\u5ea6\x3c/option\x3e\x3coption\x3e\u53ef\u7a7f\u900f\x3c/option\x3e\x3coption\x3e\u72b6\u6001\x3c/option\x3e\x3coption\x3e\u5c5e\u4e8e\x3c/option\x3e\x3coption\x3e\u5f62\u72b6\x3c/option\x3e\x3coption\x3e\x3c/option\x3e\x3coption\x3e\u7edd\u5bf9\u503c\x3c/option\x3e\x3c/select\x3e\x3cinput type\x3d"text" class\x3d"editboxinput" /\x3e\x3c/div\x3e'),
d=H("editboxselect",c),e=H("editboxinput",c);b.appendChild(c);e.value="\u6a2a\u5750\u6807";W(d,"change",function(){var a=d.options.selectedIndex;0<=a&&(e.value=d.options[a].value)},!1,a);var f=H("cellAttro",b),g=H("cellAttrv",b);W(f,"mousedown",function(){Lb(a,f)},!1,a);W(g,"mousedown",function(){Mb(a,g)},!1,a);return b}
function Lb(a,b){for(var c=b.options.selectedIndex,d=G("new",b),e=d.length-1;0<=e;--e)F(d[e],"new")&&N(d[e]);for(var d=G("ch",a.d.na),e=0,f=d.length;e<f;++e){var g=J("option");D(g,"new");D(g,"judge");O(g,R(d[e]));b.appendChild(g)}b.options.selectedIndex=c}
function Mb(a,b){for(var c=b.options.selectedIndex,d=G("new",b),e=d.length-1;0<=e;--e)F(d[e],"new")&&N(d[e]);for(var d=G("at",a.d.ga),e=0,f=d.length;e<f;++e){var g=J("option");D(g,"new");D(g,"judge");O(g,R(H("val",d[e])));b.appendChild(g)}b.options.selectedIndex=c}
function Nb(a){var b=J("div");D(b,"ac");var c=J("p");O(c,"\u6267\u884c");var d=J("p");O(d,"\u4f5c\u7528\u4e8e");var e=L('\x3cselect class\x3d"actionList"\x3e\x3coption\x3e\u65e0\u4e8b\x3c/option\x3e\x3coption\x3e\u79fb\u52a8\x3c/option\x3e\x3coption\x3e\u5411\u4e0a\u79fb\u52a8\x3c/option\x3e\x3coption\x3e\u5411\u4e0b\u79fb\u52a8\x3c/option\x3e\x3coption\x3e\u5411\u5de6\u79fb\u52a8\x3c/option\x3e\x3coption\x3e\u5411\u53f3\u79fb\u52a8\x3c/option\x3e\x3coption\x3e\u521b\u5efa\x3c/option\x3e\x3coption\x3e\u6d88\u9664\x3c/option\x3e\x3coption\x3e\u4ea4\u6362\x3c/option\x3e\x3coption\x3e\u6570\u503c\u589e\u52a0\x3c/option\x3e\x3coption\x3e\u6570\u503c\u51cf\u5c11\x3c/option\x3e\x3coption\x3e\u6539\u53d8\u5c5e\u6027\x3c/option\x3e\x3coption\x3e\u7ed3\u675f\u6e38\u620f\x3c/option\x3e\x3coption\x3e\u5230\u8fbe\x3c/option\x3e\x3coption\x3e\u6267\u884c\x3c/option\x3e\x3coption\x3e\u7ed3\u675f\u4e8b\u4ef6\x3c/option\x3e\x3c/select\x3e'),f=
J("button");O(f,"\u5220\u9664");b.appendChild(c);b.appendChild(e);b.appendChild(d);Ja(b,Kb(a));Ja(b,Kb(a));b.appendChild(f);a.d.xa.appendChild(b);for(var c=e.options.selectedIndex,d=G("me",a.d.ba),g=e.options.length-1;0<=g;--g)F(e.options[g],"new")&&N(e.options[g]);for(var g=0,h=d.length;g<h;++g){var l=J("option");D(l,"new");D(l,"judge");O(l,R(d[g]));e.appendChild(l)}e.options.selectedIndex=c;W(f,"click",function(){N(b)},!1,a);W(e,"mousedown",function(){for(var b=G("me",a.d.ba),c=e.options.selectedIndex,
d=e.options.length-1;0<=d;--d)F(e.options[d],"new")&&N(e.options[d]);for(var d=0,f=b.length;d<f;++d){var g=J("option");D(g,"new");D(g,"judge");O(g,R(b[d]));e.appendChild(g)}e.options.selectedIndex=c},!1,a)}
function Ib(a){var b=J("div");D(b,"attr");var c=L('\x3cdiv class\x3d"operation"\x3e\x3cselect\x3e\x3coption\x3e\u65e0\x3c/option\x3e\x3coption\x3e\u5927\u4e8e\x3c/option\x3e\x3coption\x3e\u5c0f\u4e8e\x3c/option\x3e\x3coption\x3e\u7b49\u4e8e\x3c/option\x3e\x3coption\x3e\u4e0d\u7b49\u4e8e\x3c/option\x3e\x3coption\x3e\u5927\u4e8e\u7b49\u4e8e\x3c/option\x3e\x3coption\x3e\u5c0f\u4e8e\u7b49\u4e8e\x3c/option\x3e\x3coption\x3e\u51cf\u53bb\x3c/option\x3e\x3coption\x3e\u52a0\u4e0a\x3c/option\x3e\x3coption\x3e\u4e58\u4ee5\x3c/option\x3e\x3coption\x3e\u9664\u4ee5\x3c/option\x3e\x3c/select\x3e\x3c/div\x3e');L(sb());
var d=L('\x3cdiv class\x3d"logic"\x3e\x3cselect\x3e\x3coption\x3e\u65e0\x3c/option\x3e\x3coption\x3e\u5e76\u4e14\x3c/option\x3e\x3coption\x3e\u6216\u8005\x3c/option\x3e\x3coption\x3e\u5e76\u4e14\u4e0d\u662f\x3c/option\x3e\x3coption\x3e\u6216\u8005\u4e0d\u662f\x3c/option\x3e\x3c/select\x3e\x3c/div\x3e');Ja(b,Kb(a));b.appendChild(c);Ja(b,Kb(a));b.appendChild(d);a.d.va.appendChild(b);var e=null;W(d,"change",function(){if(0==d.childNodes[0].options.selectedIndex){e&&N(e)&&(e=null);for(var c=G("attr",
a.d.va),g=c.length-1;0<g&&c[g]!=b;--g)N(c[g])}else e||(e=Ib(a))},!1,a);return b}
function Gb(a){var b=window.getComputedStyle(a.k[0][0]).width,c=window.getComputedStyle(a.k[0][0]).height,b=parseFloat(b.substr(b,b.length-2)),c=parseFloat(c.substr(c,c.length-2)),d=a.d.C.getContext("2d");d.clearRect(0,0,800,600);a.J&&d.drawImage(a.J,0,0,a.J.width,a.J.height);for(var e=0;e<a.g.length;++e)for(var f=0;f<a.g[e].length;++f)if(a.g[e][f]){var g=a.g[e][f].getAttribute(Z.P),h=a.g[e][f].getAttribute(Z.Q),l=Y(a.g[e][f].L.getData());l.src=eb(l.src);l.src&&d.drawImage(l.src,g*b,h*c,l.src.width,
l.src.height)}}k.wb=function(){Nb(this)};function Fb(a,b,c){W(b,"change",function(){var d=b.options.selectedIndex;0<=d&&(c.value=b.options[d].value);Ob(a,c)},!1,a);W(b,"mousedown",function(){for(var a=1,e=0,f=b.options.length;e<f;++e)if(c.value==b.options[e].value){a=0;break}a&&(a=J("option"),O(a,c.value),b.appendChild(a))},!1,a);W(c,"change",function(){Ob(a,c)},!1,a)}
function Ob(a,b){for(var c=b;!F(c,"at")&&!F(c,"atd");)c=c.parentNode;var d=a.q[a.K];if(F(c,"atd"))switch(c.Eb){case 0:d.setAttribute(Z.P,b.value);break;case 1:d.setAttribute(Z.Q,b.value);break;case 2:d.setAttribute(Z.dir,b.value);break;case 3:d.setAttribute(Z.speed,b.value);break;case 4:d.setAttribute(Z.vb,b.value);break;case 5:d.setAttribute(Z.status,b.value);break;case 6:d.setAttribute(Z.jb,b.value)}else{var e=d.getAttribute(Z.G);e[R(H("val",c))]=b.value;d.setAttribute(Z.G,e)}}
k.ua=function(a){a=a.M;a=a.target||a.srcElement;switch(this.X){case 1:this.clear();this.K=a.D;var b=Y(this.q[this.K].getData());a=this.k[b.gb+b.height-1][b.fb+b.width-1];D(this.k[b.gb][b.fb],"selected");D(a,"selected");a=this.d.C.getContext("2d");var c=window.getComputedStyle(this.k[0][0]).width,d=window.getComputedStyle(this.k[0][0]).height,c=parseFloat(c.substr(c,c.length-2)),d=parseFloat(d.substr(d,d.length-2));b.src=eb(b.src);b.src&&a.drawImage(b.src,b.fb*c,b.gb*d,b.src.width,b.src.height);this.d.U.value=
b.name;break;case 2:this.K=a.D;b=this.q[this.K].S;null==b&&(this.q[this.K].S={posX:"\u65e0",posY:"\u65e0",dir:"\u4e0a",speed:"1",visiable:"\u5426",status:"\u65e0",belong:"\u65e0",others:{}});var b=this.q[this.K].S,d=this.q[this.K].getAttribute(Z.G),e=G("at",this.d.ga);a=0;for(c=e.length;a<c;++a)E(e[a],"selected"),void 0!=d[R(H("val",e[a]))]&&null!=d[R(H("val",e[a]))]&&D(e[a],"selected");var f=[Z.P,Z.Q,Z.dir,Z.speed,Z.vb,Z.status,Z.jb,Z.G],g=G("atd",this.d.ga);a=0;for(c=g.length;a<c;++a)H("editboxinput",
g[a]).value=b[f[a]],H("editboxselect",g[a]).options.selectedIndex=-1;a=0;for(c=e.length;a<c;++a)b=d[R(H("val",e[a]))],void 0!=b&&null!=b?H("editboxinput",e[a]).value=b:H("editboxinput",e[a]).value="";break;case 3:this.K=a.D;break;case 5:this.clear();this.ha=a.D;b=hb(this.j[this.ha]);d=b.Ia;e=b.Ha;f=b.W;a=kb(b.Qa);this.ia(this.d.V,b.type);this.d.U.value=b.name;G("cpt",this.d.Z)[0].checked=a.rotate||"true"==a.rotate;G("cpt",this.d.Z)[1].checked=a.ub||"true"==a.ub;G("cpt",this.d.Z)[2].checked=a.ib||
"true"==a.ib;b=G("mapBlock",this.d.k);a=0;for(c=f.length;a<c;++a)for(var g=f[a].p,h=f[a].s,l=0;l<h.length;++l)D(b[g],h[l]);a=0;for(c=e.length;a<c;++a)Nb(this),g=jb(e[a]),f=G("ac",this.d.xa),h=H("actionList",f[a]),b=G("cellAttr",f[a])[0],f=G("cellAttr",f[a])[1],this.ia(h,g.action),Pb(this,b,g.B,g.N),Pb(this,f,g.Ma,g.F);a=0;for(c=d.length;a<c;++a)0<a&&Ib(this),e=ib(d[a]),h=G("attr",this.d.va),b=G("cellAttr",h[a])[0],g=H("operation",h[a]),f=G("cellAttr",h[a])[1],h=H("logic",h[a]),Pb(this,b,e.B,e.N),
Pb(this,f,e.Ma,e.F),this.ia(g.childNodes[0],e.eb),this.ia(h.childNodes[0],e.Ra)}};function Pb(a,b,c,d){var e=H("cellAttro",b);b=H("cellAttrv",b);Lb(a,e);Mb(a,b);null!=c&&a.ia(e,c);null!=d&&(a.ia(b,d),b.parentNode.childNodes[1].value=d)}k.ia=function(a,b){for(var c=0,d=a.options.length;c<d;++c)if(a.options[c].value==b){a.options.selectedIndex=c;break}};k.bb=function(a){a=a.M;a.stopPropagation();a.preventDefault();a.dataTransfer.dropEffect="copy"};
k.cb=function(a){function b(a){var b=new Image;b.onload=c;b.src=a.target.result}function c(a){a=a.target||a.srcElement;a=d.setData(a);800!=e.C.width&&(e.C.width=800,e.C.height=600);e.C.getContext("2d").drawImage(a,a.P,a.Q,a.width,a.height)}a=a.M;var d=this,e=this.d;a.stopPropagation();a.preventDefault();a=(a.dataTransfer||a.target).files[0];if(/image/.test(a.type)){var f=new FileReader;f.onload=b;f.readAsDataURL(a)}else alert("That's not an image file!")};function Qb(){W(window,"load",this.ma,!1,this)}k=Qb.prototype;k.d=null;k.J=null;k.L=null;k.ma=function(){this.d={};this.Za();this.hb();this.Wa()};k.Za=function(){this.d.Mb=n("defsize")?document.getElementById("defsize"):"defsize";this.d.C=n("canvas")?document.getElementById("canvas"):"canvas";this.d.Kb=G("defsize")[0];this.d.Lb=G("defsize")[1];this.d.rb=H("size");this.d.nb=H("mapimgdiv");this.d.$=H("mapimg");this.d.Sa=G("menulist");this.d.Sb=H("loadData")};
k.Wa=function(){var a=this.d;W(a.Mb,"click",this.Jb,!1,this);W(a.nb,"dragover",this.bb,!1,this);W(a.nb,"drop",this.cb,!1,this);W(a.Sb,"change",this.Rb,!1,this)};k.hb=function(){};k.Jb=function(){var a=this.d;X(a.Sa[0],"display","none");X(a.rb,"display","none");X(a.$,"display","none");X(a.C,"display","block");X(a.Sa[1],"display","block");new Eb(a.Kb.value,a.Lb.value,this.J)};k.bb=function(a){a=a.M;a.stopPropagation();a.preventDefault();a.dataTransfer.dropEffect="copy"};
k.cb=function(a){function b(a){var b=new Image;b.onload=c;b.src=a.target.result}function c(a){a=a.target||a.srcElement;e.$.width=800;e.$.src=a.src;e.$.height=e.$.height;e.$.width=e.$.width;e.C.width=800;e.C.height=600;d.J=db(e.$);a=e.C.getContext("2d");a.clearRect(0,0,800,600);a.drawImage(e.$,0,0,e.$.width,e.$.height)}a=a.M;var d=this,e=this.d;a.stopPropagation();a.preventDefault();a=(a.dataTransfer||a.target).files[0];if(/image/.test(a.type)){var f=new FileReader;f.onload=b;f.readAsDataURL(a)}else alert("That's not an image file!")};
k.Tb=function(a){a=a.M;a=JSON.parse(a.target.result);this.L={size:a.s,background:a.b,Ga:a.c,Oa:a.a,Ea:a.w,event:a.e,cc:a.f};a=this.d;a.C.width=800;a.C.height=600;X(a.Sa[0],"display","none");X(a.rb,"display","none");X(a.$,"display","none");X(a.C,"display","block");X(a.Sa[1],"display","block");new Eb(this.L.size[0],this.L.size[1],this.L.background,this.L)};k.Rb=function(a){a=a.M;a=a.target.files;if(a[0]){var b=new FileReader;W(b,"load",this.Tb,!1,this);b.readAsText(a[0])}};new Qb;})();